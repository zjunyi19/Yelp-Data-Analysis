# 476FinalProject

Dataset: https://www.kaggle.com/yelp-dataset/yelp-dataset#yelp_academic_dataset_review.json

### select_data.py:

Read json file from yelp dataset and randomly select 70% users and 80% reviews. Dump the json data structure for users, reviews and businesses to json file that can be read by Python Pandas package.

## CategoryRating

### csv.py:

Line 16-28: Get top five most frequent categories among all the businesses and generate a new datagrame with only business of these five categories. line 39-46: merge review table with this new dataframe based on business_id and generate the csv file which contain columns "categories" and "stars".

The csv file which contains 6713076 rows will be used in MapReduce function. The file can be found here: https://drive.google.com/file/d/17o7oCgHQaC2HIQpoS6UAFCP3w67hYfrP/view?usp=sharing

frequent item: top 30 frequent words used in each category

### AverageRating

A java MapReduce function to find average ratings for each category.

## FrequentWord

### get_review_data.py

The program merge review table and business table based on business_id and extract "text" for each category. Line 41-68 is for data cleaning, which includes removing stopwords and non-English words.

### preprocess_txt.py

Clean txt files by removing words from a customed blacklist.

The text files after processed can be found here: https://drive.google.com/drive/folders/1QwKCG7Qfl2biOzAK291equMMDac3H5EG?usp=sharing

### FrequentWord

A java MapReduce function to find the frequency of each word in each category.

### analze_result.py

Further removing some insignificant words and get top 30 most frequent words of each category. Generate wordcloud graph if necessary.

## Association

We use the same dataset generated by FrequentWord section.

### AssociationRules

A java MapReduce program, which uses Apriori algorithm, to detect relationship among the words. It can set command "-k" for the number of words, and "-s" for support threshold.

### analze_result.py

Find top 30 most important association among the words for each category. Some further removal of insignificant words is included.

## SVM

### SVM.py:

This program can be run directly, the performance of output will be printed out.
It can be roughly divided into 3 parts: line 57 ~ 120ï¼š Preparation of training set. Line 120 ~ 153 SVD; Line 153 ~ 213: Training on different kernels and parameters.

Detailed steps of this program can be found in the comments in the code file

Partial dataset to run this program
https://drive.google.com/file/d/1nzlsdYRNiGLU5dO35VWj48tNUUh3drnE/view?usp=sharing

KNN.py:

Note that due to the limitation of memory of the laptop. This program may not be able to run sequentially on a list of (user_id,business_id) to be predicted. Sometimes it is only able to predict around 10 pairs at a time.

Also, this program cannot work normally on a random and small dataset. Because we must make sure there are enough reviews in the dataset, on the business we want to predict on. So if you try to run this program, please  use the dataset with complete size, sorry for the inconvience.

Detailed steps of this program can be found in the comments in the code file

Partial dataset to run this program
https://drive.google.com/file/d/1Sejh-WCqditmyYOwUxZX4zvw5ArNPq38/view?usp=sharing
https://drive.google.com/file/d/1FzlXs_xlWsjrahmSxLl6gzXsswYlcXP2/view?usp=sharing
